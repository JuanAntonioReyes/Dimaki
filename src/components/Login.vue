<template>
	<div class="posts">
		<h1>Login</h1>
		<div class="form">
			<div>
				e-mail: <input type="text" v-model="loginData.email"><br>
				Password: <input type="password" v-model="loginData.pass"><br>
			</div>
			<div>
				<button @click="login">Login</button>
			</div>
		</div>
	</div>
</template>

<script>
	import apiAccess from '../apiAccess.js';

	export default {
		data() {
			return {
				loginData: {
					email: null,
					pass: null
				}
			}
		},
		methods: {
    	async login() {
				var response = await apiAccess.login(this.loginData);

				// Before this, I should check if the browser supports localStorage
				localStorage.setItem("userToken", response.data.token);

				this.$router.push({ name: 'messagesLink' });
			}
  }
}
</script>

<style>
	
</style>